<!doctype html>
<html>

<head>
  <title>sonner-js example</title>
  <link rel="stylesheet" href="../src/sonner.css" />
  <script src="../src/sonner.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      Sonner.init({
        closeButton: false,
        richColors: false,
        position: "bottom-center",
      });
    });

    function loading(fail) {
      const promise = new Promise((resolve, reject) => {
        setTimeout(() => {
          if (fail) reject(new Error('OH NO!'));
          resolve(Date.now())
        }, 2_500);
      });

      Sonner.promise(promise, {
        loading: 'Waiting for 2.5s...',
        success: (data) => `The current time is now: ${data}`,
        error: 'Oops! Failed :c',
      });
    }

    function loadingLots() {
      for (let i = 0; i < 10; i++) {
        const promise = new Promise((resolve, reject) => {
          setTimeout(() => {
            if (fail) reject(new Error('OH NO!'));
            resolve(Date.now())
          }, 1_000);
        });
        Sonner.promise(promise, {
            loading: `#${i}: Waiting for 1s...`,
            success: (data) => `The current time is now: ${data}`,
            error: 'Oops! Failed :c',
            duration: -1
          });
      }
    }

  </script>
</head>

<body>
  <button onclick="Sonner.show('This is a sample toast')">Show Toast</button>
  <button onclick="Sonner.success('This is a sample toast')">
    Show Success Toast
  </button>
  <button onclick="Sonner.error('This is a sample toast')">
    Show Error Toast
  </button>
  <button onclick="Sonner.warning('This is a sample toast')">
    Show Warning Toast
  </button>
  <button onclick="Sonner.info('This is a sample toast')">
    Show Info Toast
  </button>

  <button onclick="loading(false)">
    Show Loading Toast
  </button>
  <button onclick="loading(true)">
    Show Loading Failure Toast
  </button>
  <button onclick="loadingLots()">
    Show Loading lots Toast
  </button>
</body>

</html>